<!DOCTYPE HTML>
<html lang="es">
<head>
    <title>Dani Miralles Oficial | Todo es Magia</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta name="description" content="Web oficial de Dani Miralles. Nuevo lanzamiento 'Todo es Magia' disponible en todas las plataformas.">
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&family=Permanent+Marker&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

    <link rel="stylesheet" href="assets/css/modern-style.css" />
</head>

<body>

    <div class="bg-noise"></div>
    <div class="ambient-light light-1"></div>
    <div class="ambient-light light-2"></div>
    <canvas id="rain-canvas"></canvas>

    <nav class="main-nav">
        <div class="brand-logo">
            <span>DANI MIRALLES</span>
        </div>

        <ul class="nav-links">
            <li><a href="#hero" class="active">Inicio</a></li>
            <li><a href="discografia.html">Discografía</a></li>
            <li><a href="#ultimos">Últimos</a></li>
            <li><a href="#mas-escuchados">+ Escuchados</a></li>
            <li><a href="#eventos">Eventos</a></li>
            <li><a href="contacto.html" class="btn-contact">Contacto</a></li>
        </ul>
        
        <div class="menu-toggle"><i class="fas fa-bars"></i></div>
    </nav>

    <main id="page-wrapper">
        
        <section id="hero" class="mystery-mode">
            <div class="matrix-bg"></div>

            <div class="mystery-container">
                <div class="mystery-cover-box" data-aos="flip-left" data-aos-duration="1500">
                    <div class="glass-panel">
                        <span class="restricted-badge">RESTRICTED ACCESS</span>
                        <div class="mystery-icon">
                            <i class="fas fa-question"></i>
                        </div>
                        <div class="lock-status">
                            <i class="fas fa-lock"></i> LOCKED
                        </div>
                    </div>
                    <div class="glow-effect"></div>
                </div>

                <div class="mystery-data" data-aos="fade-left">
                    <div class="data-header">
                        <h4 class="blinking-text">> SYSTEM_LOADING...</h4>
                        <h1 class="glitch" data-text="PRÓXIMO ÁLBUM">PRÓXIMO ÁLBUM</h1>
                    </div>

                    <div class="progress-module">
                        <div class="progress-labels">
                            <span>ESTADO DE PRODUCCIÓN</span>
                            <span class="percentage">54%</span>
                        </div>
                        <div class="progress-track">
                            <div class="progress-fill"></div>
                        </div>
                        <p class="status-msg">Masterizando pistas finales. Preparando lanzamiento.</p>
                    </div>

                    <div class="tracklist-terminal">
                        <h3>// TRACKLIST_PREVIEW</h3>
                        <ul>
                            <li><span class="track-num">01.</span> <span class="track-name">Ovejas Negras</span> <i class="fas fa-check-circle ready"></i></li>
                            <li><span class="track-num">02.</span> <span class="track-name">Me da igual</span> <i class="fas fa-check-circle ready"></i></li>
                            <li><span class="track-num">03.</span> <span class="track-name">Llum</span> <i class="fas fa-check-circle ready"></i></li>
                            <li class="redacted"><span class="track-num">04.</span> <span class="track-name blur">*******</span> <i class="fas fa-spinner fa-spin loading"></i></li>
                            <li class="redacted"><span class="track-num">05.</span> <span class="track-name blur">*******</span> <i class="fas fa-spinner fa-spin loading"></i></li>
                            <li class="redacted"><span class="track-num">06.</span> <span class="track-name blur">*******</span> <i class="fas fa-spinner fa-spin loading"></i></li>
                            <li class="redacted"><span class="track-num">07.</span> <span class="track-name blur">*******</span> <i class="fas fa-spinner fa-spin loading"></i></li>
                            <li class="redacted"><span class="track-num">08.</span> <span class="track-name blur">*******</span> <i class="fas fa-spinner fa-spin loading"></i></li>
                        </ul>
                    </div>

                    <div class="hero-actions" style="justify-content: flex-start; margin-top: 2rem;">
                        <a href="javascript:void(0)" id="open-notify-btn" class="cta-button notify-btn">
                            <i class="far fa-bell"></i> AVÍSAME CUANDO SALGA
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="scroll-down"></div>
        </section>

        <div class="marquee-strip">
            <div class="marquee-content">
                <span>NUEVO LANZAMIENTO • TODO ES MAGIA • DISPONIBLE EN SPOTIFY • YOUTUBE •</span>
                <span>NUEVO LANZAMIENTO • TODO ES MAGIA • DISPONIBLE EN SPOTIFY • YOUTUBE •</span>
            </div>
        </div>

        <section id="ultimos" class="music-section">
            <div class="section-header" data-aos="fade-right">
                <h2>Últimos <span class="text-stroke">Lanzamientos</span></h2>
                <div class="line"></div>
            </div>

            <div class="music-grid">
                <article class="music-card" data-aos="fade-up">
                    <a href="https://open.spotify.com/intl-es/track/2v6sijZjiZfwLbvpdoctIQ?si=da5980079ccd4e3d" target="_blank" class="card-image">
                        <img src="images/portadas/llum.jpg" alt="Llum">
                        <div class="card-overlay"><i class="fas fa-play-circle"></i></div>
                    </a>
                    <div class="card-info">
                        <h3>Llum</h3>
                        <p class="date">Oct 2025</p>
                        <div class="platform-links">
                            <a href="https://open.spotify.com/intl-es/track/2v6sijZjiZfwLbvpdoctIQ?si=da5980079ccd4e3d" target="_blank" title="Spotify"><i class="fab fa-spotify"></i></a>
                            <a href="https://www.youtube.com/watch?v=WCBSA3nKGSE" target="_blank" title="YouTube"><i class="fab fa-youtube"></i></a>
                        </div>
                    </div>
                </article>

                <article class="music-card" data-aos="fade-up" data-aos-delay="100">
                    <a href="https://open.spotify.com/intl-es/track/0INNm3JFS8HtBK9ypjfNBP" target="_blank" class="card-image">
                        <img src="images/portadas/ovejasnegras.jpg" alt="Ovejas Negras">
                        <div class="card-overlay"><i class="fas fa-play-circle"></i></div>
                    </a>
                    <div class="card-info">
                        <h3>Ovejas Negras</h3>
                        <p class="date">Sep 2025</p>
                        <div class="platform-links">
                            <a href="https://open.spotify.com/intl-es/track/0INNm3JFS8HtBK9ypjfNBP" target="_blank" title="Spotify"><i class="fab fa-spotify"></i></a>
                            <a href="https://www.youtube.com/watch?v=O-3UzMua1R4" target="_blank" title="YouTube"><i class="fab fa-youtube"></i></a>
                        </div>
                    </div>
                </article>

                <article class="music-card" data-aos="fade-up" data-aos-delay="200">
                    <a href="https://open.spotify.com/intl-es/track/1ve94TU6Jmt8Ft4VXBzIGX" target="_blank" class="card-image">
                        <img src="images/portadas/medaigual.jpg" alt="Me da Igual">
                        <div class="card-overlay"><i class="fas fa-play-circle"></i></div>
                    </a>
                    <div class="card-info">
                        <h3>Me da Igual</h3>
                        <p class="date">Jun 2025</p>
                        <div class="platform-links">
                            <a href="https://open.spotify.com/intl-es/track/1ve94TU6Jmt8Ft4VXBzIGX" target="_blank" title="Spotify"><i class="fab fa-spotify"></i></a>
                            <a href="https://www.youtube.com/watch?v=5xMRXxRlA_s" target="_blank" title="YouTube"><i class="fab fa-youtube"></i></a>
                        </div>
                    </div>
                </article>
            </div>
        </section>

        </div> <div class="view-all-wrapper" data-aos="fade-up" style="text-align: center; margin-top: 3rem;">
        <a href="discografia.html" class="cta-button outline-btn">
            <i class="fas fa-compact-disc"></i> VER DISCOGRAFÍA COMPLETA
        </a>
    </div>

</section> ```

        <section id="mas-escuchados" class="music-section">
            <div class="section-header" data-aos="fade-right">
                <h2>Más <span class="text-stroke">Escuchados</span></h2>
                <div class="line"></div>
            </div>

            <div class="music-grid">
                <article class="music-card popular" data-aos="fade-up">
                    <a href="https://open.spotify.com/intl-es/track/5xwrpvnAlQh7scw4pEYvzy" target="_blank" class="card-image">
                        <img src="images/portadas/100años.jpg" alt="100 años del sueño del chepa">
                        <div class="card-overlay"><i class="fas fa-fire"></i></div>
                    </a>
                    <div class="card-info">
                        <h3>100 años del sueño del chepa</h3>
                        <p class="date">Popular</p>
                        <div class="platform-links">
                            <a href="https://open.spotify.com/intl-es/track/5xwrpvnAlQh7scw4pEYvzy" target="_blank"><i class="fab fa-spotify"></i></a>
                            <a href="https://www.youtube.com/watch?v=ZqUx26fxUX4" target="_blank"><i class="fab fa-youtube"></i></a>
                        </div>
                    </div>
                </article>

                <article class="music-card popular" data-aos="fade-up" data-aos-delay="100">
                    <a href="https://open.spotify.com/intl-es/track/2DElrCCqIypOg6KbS8Xyi6" target="_blank" class="card-image">
                        <img src="images/pic09.jpg" alt="El vaso medio lleno">
                        <div class="card-overlay"><i class="fas fa-fire"></i></div>
                    </a>
                    <div class="card-info">
                        <h3>El vaso medio lleno</h3>
                        <p class="date">Popular</p>
                        <div class="platform-links">
                            <a href="https://open.spotify.com/intl-es/track/2DElrCCqIypOg6KbS8Xyi6" target="_blank"><i class="fab fa-spotify"></i></a>
                            <a href="https://www.youtube.com/watch?v=_aaVWiaV0Ak" target="_blank"><i class="fab fa-youtube"></i></a>
                        </div>
                    </div>
                </article>
            </div>
        </section>
    </main>

    <footer class="footer-rock">
        <div class="footer-content">
            <div class="social-huge">
                <a href="https://instagram.com/danimiralles_oficial" target="_blank">INSTAGRAM</a>
                <a href="https://youtube.com/@danimirallesmusic" target="_blank">YOUTUBE</a>
                <a href="https://open.spotify.com/intl-es/artist/6cXCMxpukl1tzsq5monfJR?si=ISmD5ZjKRRKWtKoOUWQPKg" target="_blank">SPOTIFY</a>
            </div>
            <div class="footer-meta">
                <p>© 2025 Dani Miralles. Rock & Autor.</p>
                <p>Management: <a href="mailto:danimirallesoficial@gmail.com">danimirallesoficial@gmail.com</a></p>
            </div>
        </div>
    </footer>

    <div id="notify-modal" class="modal-overlay">
        <div class="modal-content-box">
            <button class="modal-close" id="close-notify">×</button>
            
            <div class="modal-header">
                <i class="far fa-bell"></i>
                <h2>LISTA DE ESPERA</h2>
                <p>Introduce tu correo y serás el primero en recibir el enlace cuando el álbum esté disponible.</p>
            </div>

            <form id="contact-form" class="notify-form">
                <div class="input-wrapper">
                    <input type="email" name="user_email" id="user_email" placeholder="tu@email.com" required>
                </div>

                <button type="submit" class="modal-submit-btn" id="btn-submit">
                    <i class="fas fa-paper-plane"></i> ENVIAR
                </button>
                
                <p id="msg-feedback" style="margin-top:15px; font-size:0.9rem; font-weight:bold; display:none;"></p>
            </form>
            
            <p class="modal-footer-text">No SPAM. Solo Música.</p>
        </div>
    </div>

    <script src="assets/js/jquery.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

    <script type="text/javascript">
        (function() {
            // TU PUBLIC KEY
            emailjs.init("ZiKcCNO_OxbPuUtHf"); 
        })();
    </script>

    <script>
        // Inicializar AOS
        AOS.init({ duration: 800, easing: 'ease-out-cubic', once: true });

        // Efecto Parallax Fondo
        document.addEventListener('mousemove', (e) => {
            const lights = document.querySelectorAll('.ambient-light');
            const x = e.clientX / window.innerWidth;
            const y = e.clientY / window.innerHeight;
            lights.forEach((light, index) => {
                const speed = index + 1;
                light.style.transform = `translate(${x * 30 * speed}px, ${y * 30 * speed}px)`;
            });
        });

        // Menú Móvil
        const menuToggle = document.querySelector('.menu-toggle');
        if(menuToggle){
            menuToggle.addEventListener('click', function() {
                document.querySelector('.nav-links').classList.toggle('active');
            });
        }

        // --- LÓGICA DEL MODAL ---
        const notifyModal = document.getElementById('notify-modal');
        const openNotifyBtn = document.getElementById('open-notify-btn');
        const closeNotifyBtn = document.getElementById('close-notify');

        if(openNotifyBtn) {
            openNotifyBtn.addEventListener('click', () => {
                notifyModal.classList.add('active');
                document.getElementById('msg-feedback').style.display = 'none';
                document.getElementById('contact-form').reset();
            });
        }

        if(closeNotifyBtn) {
            closeNotifyBtn.addEventListener('click', () => {
                notifyModal.classList.remove('active');
            });
        }

        window.addEventListener('click', (e) => {
            if (e.target === notifyModal) notifyModal.classList.remove('active');
        });

        // --- ENVÍO EMAILJS ---
        const contactForm = document.getElementById('contact-form');
        if(contactForm){
            contactForm.addEventListener('submit', function(event) {
                event.preventDefault(); // Evita recarga

                const btn = document.getElementById('btn-submit');
                const feedback = document.getElementById('msg-feedback');
                
                // Estado cargando
                btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> ENVIANDO...';
                btn.style.opacity = '0.7';

                const serviceID = 'service_cfslftd';   
                const templateID = 'template_gcdc2qr'; 

                emailjs.sendForm(serviceID, templateID, this)
                    .then(() => {
                        // ÉXITO
                        btn.innerHTML = '<i class="fas fa-check"></i> ENVIADO';
                        btn.style.background = '#1DB954';
                        
                        feedback.style.display = 'block';
                        feedback.style.color = '#1DB954';
                        feedback.innerText = "¡Estás dentro! Te avisaré pronto.";
                        
                        setTimeout(() => {
                            notifyModal.classList.remove('active');
                            btn.innerHTML = '<i class="fas fa-paper-plane"></i> ENVIAR';
                            btn.style.background = ''; 
                            btn.style.opacity = '1';
                        }, 3000);

                    }, (err) => {
                        // ERROR
                        btn.innerHTML = '<i class="fas fa-times"></i> ERROR';
                        btn.style.background = 'red';
                        
                        feedback.style.display = 'block';
                        feedback.style.color = 'red';
                        feedback.innerText = "Hubo un error. Inténtalo de nuevo.";
                        console.log(JSON.stringify(err));
                        
                        setTimeout(() => {
                            btn.innerHTML = '<i class="fas fa-paper-plane"></i> ENVIAR';
                            btn.style.background = '';
                            btn.style.opacity = '1';
                        }, 3000);
                    });
            });
        }
    </script>

   <!--<script>
        // Aquí puedes pegar tu script de la lluvia (Window.Snow) si quieres conservarlo
        (function(){
          const canvas = document.getElementById('rain-canvas');
          if(!canvas) return;
          const ctx = canvas.getContext('2d');
    
          let W = 0, H = 0, dpr = Math.max(1, window.devicePixelRatio || 1);
          const snowflakes = []; 
          let lastTime = performance.now();
          let rafId = null;
    
          function resize() {
            W = window.innerWidth;
            H = window.innerHeight;
            canvas.width = Math.floor(W * dpr);
            canvas.height = Math.floor(H * dpr);
            ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
          }
          
          function makeSnowflake(){
            return {
              x: Math.random() * W,
              y: Math.random() * -H,
              vy: Math.random() * 80 + 40,
              size: Math.random() * 2 + 1,
              alpha: Math.random() * 0.5 + 0.3
            };
          }

          for(let i=0; i<100; i++) snowflakes.push(makeSnowflake());

          function loop(now){
            const dt = Math.min(50, now - lastTime) / 1000;
            lastTime = now;
            ctx.clearRect(0, 0, W, H);
            
            ctx.fillStyle = "#fff";
            ctx.beginPath();
            for(let s of snowflakes){
                s.y += s.vy * dt;
                if(s.y > H) s.y = -10;
                ctx.moveTo(s.x, s.y);
                ctx.arc(s.x, s.y, s.size, 0, Math.PI*2);
            }
            ctx.fill();
            requestAnimationFrame(loop);
          }
          
          resize();
          window.addEventListener('resize', resize);
          requestAnimationFrame(loop);
        })();
    </script>-->

</body>
</html>